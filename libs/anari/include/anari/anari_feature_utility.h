// Copyright 2021 The Khronos Group
// SPDX-License-Identifier: Apache-2.0

// This file was generated by generate_feature_utility.py
// Don't make changes to this directly

#pragma once
#include <anari/anari.h>
typedef struct {
   int ANARI_KHR_CAMERA_OMNIDIRECTIONAL;
   int ANARI_KHR_CAMERA_ORTHOGRAPHIC;
   int ANARI_KHR_CAMERA_PERSPECTIVE;
   int ANARI_KHR_GEOMETRY_CONE;
   int ANARI_KHR_GEOMETRY_CURVE;
   int ANARI_KHR_GEOMETRY_CYLINDER;
   int ANARI_KHR_GEOMETRY_QUAD;
   int ANARI_KHR_GEOMETRY_SPHERE;
   int ANARI_KHR_GEOMETRY_TRIANGLE;
   int ANARI_KHR_LIGHT_DIRECTIONAL;
   int ANARI_KHR_LIGHT_POINT;
   int ANARI_KHR_LIGHT_SPOT;
   int ANARI_KHR_MATERIAL_MATTE;
   int ANARI_KHR_MATERIAL_TRANSPARENT_MATTE;
   int ANARI_KHR_SAMPLER_IMAGE1D;
   int ANARI_KHR_SAMPLER_IMAGE2D;
   int ANARI_KHR_SAMPLER_IMAGE3D;
   int ANARI_KHR_SAMPLER_PRIMITIVE;
   int ANARI_KHR_SAMPLER_TRANSFORM;
   int ANARI_KHR_SPATIAL_FIELD_STRUCTURED_REGULAR;
   int ANARI_KHR_VOLUME_SCIVIS;
   int ANARI_KHR_LIGHT_RING;
   int ANARI_KHR_LIGHT_QUAD;
   int ANARI_KHR_LIGHT_HDRI;
   int ANARI_KHR_MATERIAL_PHYSICALLY_BASED;
   int ANARI_KHR_FRAME_CONTINUATION;
   int ANARI_KHR_AUXILIARY_BUFFERS;
   int ANARI_KHR_AREA_LIGHTS;
   int ANARI_KHR_STOCHASTIC_RENDERING;
   int ANARI_KHR_TRANSFORMATION_MOTION_BLUR;
   int ANARI_KHR_ARRAY1D_REGION;
   int ANARI_KHR_RENDERER_AMBIENT_LIGHT;
   int ANARI_KHR_RENDERER_BACKGROUND_COLOR;
   int ANARI_KHR_RENDERER_BACKGROUND_IMAGE;
} ANARIFeatures;
int anariGetObjectFeatures(ANARIFeatures *features, ANARILibrary, const char *deviceName, const char *objectName, ANARIDataType objectType);
int anariGetInstanceFeatures(ANARIFeatures *features, ANARIDevice device, ANARIObject object);
#ifdef ANARI_FEATURE_UTILITY_IMPL
#include <string.h>
static int feature_hash(const char *str) {
   static const uint32_t table[] = {0x4f4e0001u,0x42410002u,0x53520003u,0x4a490004u,0x605f0005u,0x4c4b0006u,0x49480007u,0x53520008u,0x605f0009u,0x5741000au,0x56520020u,0x0u,0x42410057u,0x0u,0x0u,0x53520089u,0x4645009bu,0x0u,0x0u,0x0u,0x0u,0x4a4900e0u,0x42410115u,0x0u,0x0u,0x0u,0x0u,0x4645014bu,0x5541017du,0x535201f4u,0x0u,0x504f020eu,0x53450024u,0x0u,0x0u,0x59580047u,0x42410032u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x4241003bu,0x605f0033u,0x4d4c0034u,0x4a490035u,0x48470036u,0x49480037u,0x55540038u,0x54530039u,0x100003au,0x8000001bu,0x5a59003cu,0x3231003du,0x4544003eu,0x605f003fu,0x53520040u,0x46450041u,0x48470042u,0x4a490043u,0x504f0044u,0x4f4e0045u,0x1000046u,0x8000001eu,0x4a490048u,0x4d4c0049u,0x4a49004au,0x4241004bu,0x5352004cu,0x5a59004du,0x605f004eu,0x4342004fu,0x56550050u,0x47460051u,0x47460052u,0x46450053u,0x53520054u,0x54530055u,0x1000056u,0x8000001au,0x4e4d0058u,0x46450059u,0x5352005au,0x4241005bu,0x605f005cu,0x514f005du,0x534d005fu,0x4645007eu,0x4f4e0065u,0x0u,0x0u,0x0u,0x0u,0x55540073u,0x4a490066u,0x45440067u,0x4a490068u,0x53520069u,0x4645006au,0x4443006bu,0x5554006cu,0x4a49006du,0x504f006eu,0x4f4e006fu,0x42410070u,0x4d4c0071u,0x1000072u,0x80000000u,0x49480074u,0x504f0075u,0x48470076u,0x53520077u,0x42410078u,0x51500079u,0x4948007au,0x4a49007bu,0x4443007cu,0x100007du,0x80000001u,0x5352007fu,0x54530080u,0x51500081u,0x46450082u,0x44430083u,0x55540084u,0x4a490085u,0x57560086u,0x46450087u,0x1000088u,0x80000002u,0x4241008au,0x4e4d008bu,0x4645008cu,0x605f008du,0x4443008eu,0x504f008fu,0x4f4e0090u,0x55540091u,0x4a490092u,0x4f4e0093u,0x56550094u,0x42410095u,0x55540096u,0x4a490097u,0x504f0098u,0x4f4e0099u,0x100009au,0x80000019u,0x504f009cu,0x4e4d009du,0x4645009eu,0x5554009fu,0x535200a0u,0x5a5900a1u,0x605f00a2u,0x554300a3u,0x5a4f00b5u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x565500ceu,0x0u,0x515000d2u,0x535200d8u,0x4f4e00c0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x535200c3u,0x0u,0x0u,0x0u,0x4d4c00c7u,0x464500c1u,0x10000c2u,0x80000003u,0x575600c4u,0x464500c5u,0x10000c6u,0x80000004u,0x4a4900c8u,0x4f4e00c9u,0x454400cau,0x464500cbu,0x535200ccu,0x10000cdu,0x80000005u,0x424100cfu,0x454400d0u,0x10000d1u,0x80000006u,0x494800d3u,0x464500d4u,0x535200d5u,0x464500d6u,0x10000d7u,0x80000007u,0x4a4900d9u,0x424100dau,0x4f4e00dbu,0x484700dcu,0x4d4c00ddu,0x464500deu,0x10000dfu,0x80000008u,0x484700e1u,0x494800e2u,0x555400e3u,0x605f00e4u,0x544400e5u,0x4a4900f5u,0x0u,0x0u,0x0u,0x45440100u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x504f0104u,0x56550109u,0x4a49010du,0x51500111u,0x535200f6u,0x464500f7u,0x444300f8u,0x555400f9u,0x4a4900fau,0x504f00fbu,0x4f4e00fcu,0x424100fdu,0x4d4c00feu,0x10000ffu,0x80000009u,0x53520101u,0x4a490102u,0x1000103u,0x80000017u,0x4a490105u,0x4f4e0106u,0x55540107u,0x1000108u,0x8000000au,0x4241010au,0x4544010bu,0x100010cu,0x80000016u,0x4f4e010eu,0x4847010fu,0x1000110u,0x80000015u,0x504f0112u,0x55540113u,0x1000114u,0x8000000bu,0x55540116u,0x46450117u,0x53520118u,0x4a490119u,0x4241011au,0x4d4c011bu,0x605f011cu,0x554d011du,0x42410125u,0x0u,0x0u,0x4948012au,0x0u,0x0u,0x0u,0x5352013au,0x55540126u,0x55540127u,0x46450128u,0x1000129u,0x8000000cu,0x5a59012bu,0x5453012cu,0x4a49012du,0x4443012eu,0x4241012fu,0x4d4c0130u,0x4d4c0131u,0x5a590132u,0x605f0133u,0x43420134u,0x42410135u,0x54530136u,0x46450137u,0x45440138u,0x1000139u,0x80000018u,0x4241013bu,0x4f4e013cu,0x5453013du,0x5150013eu,0x4241013fu,0x53520140u,0x46450141u,0x4f4e0142u,0x55540143u,0x605f0144u,0x4e4d0145u,0x42410146u,0x55540147u,0x55540148u,0x46450149u,0x100014au,0x8000000du,0x4f4e014cu,0x4544014du,0x4645014eu,0x5352014fu,0x46450150u,0x53520151u,0x605f0152u,0x43410153u,0x4e4d0155u,0x42410162u,0x43420156u,0x4a490157u,0x46450158u,0x4f4e0159u,0x5554015au,0x605f015bu,0x4d4c015cu,0x4a49015du,0x4847015eu,0x4948015fu,0x55540160u,0x1000161u,0x8000001fu,0x44430163u,0x4c4b0164u,0x48470165u,0x53520166u,0x504f0167u,0x56550168u,0x4f4e0169u,0x4544016au,0x605f016bu,0x4a43016cu,0x504f0173u,0x0u,0x0u,0x0u,0x0u,0x0u,0x4e4d0178u,0x4d4c0174u,0x504f0175u,0x53520176u,0x1000177u,0x80000020u,0x42410179u,0x4847017au,0x4645017bu,0x100017cu,0x80000021u,0x4e4d0191u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x424101c2u,0x0u,0x0u,0x0u,0x504f01e1u,0x51500192u,0x4d4c0193u,0x46450194u,0x53520195u,0x605f0196u,0x55490197u,0x4e4d01a3u,0x0u,0x0u,0x0u,0x0u,0x0u,0x0u,0x535201b0u,0x0u,0x0u,0x0u,0x535201b9u,0x424101a4u,0x484701a5u,0x464501a6u,0x343101a7u,0x454401aau,0x454401acu,0x454401aeu,0x10001abu,0x8000000eu,0x10001adu,0x8000000fu,0x10001afu,0x80000010u,0x4a4901b1u,0x4e4d01b2u,0x4a4901b3u,0x555401b4u,0x4a4901b5u,0x575601b6u,0x464501b7u,0x10001b8u,0x80000011u,0x424101bau,0x4f4e01bbu,0x545301bcu,0x474601bdu,0x504f01beu,0x535201bfu,0x4e4d01c0u,0x10001c1u,0x80000012u,0x555401c3u,0x4a4901c4u,0x424101c5u,0x4d4c01c6u,0x605f01c7u,0x474601c8u,0x4a4901c9u,0x464501cau,0x4d4c01cbu,0x454401ccu,0x605f01cdu,0x545301ceu,0x555401cfu,0x535201d0u,0x565501d1u,0x444301d2u,0x555401d3u,0x565501d4u,0x535201d5u,0x464501d6u,0x454401d7u,0x605f01d8u,0x535201d9u,0x464501dau,0x484701dbu,0x565501dcu,0x4d4c01ddu,0x424101deu,0x535201dfu,0x10001e0u,0x80000013u,0x444301e2u,0x494801e3u,0x424101e4u,0x545301e5u,0x555401e6u,0x4a4901e7u,0x444301e8u,0x605f01e9u,0x535201eau,0x464501ebu,0x4f4e01ecu,0x454401edu,0x464501eeu,0x535201efu,0x4a4901f0u,0x4f4e01f1u,0x484701f2u,0x10001f3u,0x8000001cu,0x424101f5u,0x4f4e01f6u,0x545301f7u,0x474601f8u,0x504f01f9u,0x535201fau,0x4e4d01fbu,0x424101fcu,0x555401fdu,0x4a4901feu,0x504f01ffu,0x4f4e0200u,0x605f0201u,0x4e4d0202u,0x504f0203u,0x55540204u,0x4a490205u,0x504f0206u,0x4f4e0207u,0x605f0208u,0x43420209u,0x4d4c020au,0x5655020bu,0x5352020cu,0x100020du,0x8000001du,0x4d4c020fu,0x56550210u,0x4e4d0211u,0x46450212u,0x605f0213u,0x54530214u,0x44430215u,0x4a490216u,0x57560217u,0x4a490218u,0x54530219u,0x100021au,0x80000014u};
   uint32_t cur = 0x42410000u;
   for(int i = 0;cur!=0;++i) {
      uint32_t idx = cur&0xFFFFu;
      uint32_t low = (cur>>16u)&0xFFu;
      uint32_t high = (cur>>24u)&0xFFu;
      uint32_t c = (uint32_t)str[i];
      if(c>=low && c<high) {
         cur = table[idx+c-low];
      } else {
         break;
      }
      if(cur&0x80000000u) {
         return cur&0xFFFFu;
      }
      if(str[i]==0) {
         break;
      }
   }
   return -1;
}
static void fillFeatureStruct(ANARIFeatures *features, const char *const *list) {
    memset(features, 0, sizeof(ANARIFeatures));
    for(const char *const *i = list;*i!=NULL;++i) {
        switch(feature_hash(*i)) {
            case 0: features->ANARI_KHR_CAMERA_OMNIDIRECTIONAL = 1; break;
            case 1: features->ANARI_KHR_CAMERA_ORTHOGRAPHIC = 1; break;
            case 2: features->ANARI_KHR_CAMERA_PERSPECTIVE = 1; break;
            case 3: features->ANARI_KHR_GEOMETRY_CONE = 1; break;
            case 4: features->ANARI_KHR_GEOMETRY_CURVE = 1; break;
            case 5: features->ANARI_KHR_GEOMETRY_CYLINDER = 1; break;
            case 6: features->ANARI_KHR_GEOMETRY_QUAD = 1; break;
            case 7: features->ANARI_KHR_GEOMETRY_SPHERE = 1; break;
            case 8: features->ANARI_KHR_GEOMETRY_TRIANGLE = 1; break;
            case 9: features->ANARI_KHR_LIGHT_DIRECTIONAL = 1; break;
            case 10: features->ANARI_KHR_LIGHT_POINT = 1; break;
            case 11: features->ANARI_KHR_LIGHT_SPOT = 1; break;
            case 12: features->ANARI_KHR_MATERIAL_MATTE = 1; break;
            case 13: features->ANARI_KHR_MATERIAL_TRANSPARENT_MATTE = 1; break;
            case 14: features->ANARI_KHR_SAMPLER_IMAGE1D = 1; break;
            case 15: features->ANARI_KHR_SAMPLER_IMAGE2D = 1; break;
            case 16: features->ANARI_KHR_SAMPLER_IMAGE3D = 1; break;
            case 17: features->ANARI_KHR_SAMPLER_PRIMITIVE = 1; break;
            case 18: features->ANARI_KHR_SAMPLER_TRANSFORM = 1; break;
            case 19: features->ANARI_KHR_SPATIAL_FIELD_STRUCTURED_REGULAR = 1; break;
            case 20: features->ANARI_KHR_VOLUME_SCIVIS = 1; break;
            case 21: features->ANARI_KHR_LIGHT_RING = 1; break;
            case 22: features->ANARI_KHR_LIGHT_QUAD = 1; break;
            case 23: features->ANARI_KHR_LIGHT_HDRI = 1; break;
            case 24: features->ANARI_KHR_MATERIAL_PHYSICALLY_BASED = 1; break;
            case 25: features->ANARI_KHR_FRAME_CONTINUATION = 1; break;
            case 26: features->ANARI_KHR_AUXILIARY_BUFFERS = 1; break;
            case 27: features->ANARI_KHR_AREA_LIGHTS = 1; break;
            case 28: features->ANARI_KHR_STOCHASTIC_RENDERING = 1; break;
            case 29: features->ANARI_KHR_TRANSFORMATION_MOTION_BLUR = 1; break;
            case 30: features->ANARI_KHR_ARRAY1D_REGION = 1; break;
            case 31: features->ANARI_KHR_RENDERER_AMBIENT_LIGHT = 1; break;
            case 32: features->ANARI_KHR_RENDERER_BACKGROUND_COLOR = 1; break;
            case 33: features->ANARI_KHR_RENDERER_BACKGROUND_IMAGE = 1; break;
            default: break;
        }
    }
}
int anariGetObjectFeatures(ANARIFeatures *features, ANARILibrary library, const char *deviceName, const char *objectName, ANARIDataType objectType) {
    const char *const *list = (const char *const *)anariGetObjectInfo(library, deviceName, objectName, objectType, "feature", ANARI_STRING_LIST);
    if(list) {
        fillFeatureStruct(features, list);
        return 0;
    } else {
        return 1;
    }
}
int anariGetInstanceFeatures(ANARIFeatures *features, ANARIDevice device, ANARIObject object) {
    const char *const *list = NULL;
    anariGetProperty(device, object, "feature", ANARI_STRING_LIST, &list, sizeof(list), ANARI_WAIT);
    if(list) {
        fillFeatureStruct(features, list);
        return 0;
    } else {
        return 1;
    }
}
#endif
